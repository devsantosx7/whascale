import{r as u,j as a}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581.js";import{W as le,Y as ue,Z as de,_ as pe,$ as me,a0 as ge,a1 as V,a2 as G,a3 as q,A as fe,a4 as xe,a5 as B,a6 as H,a7 as _e,a8 as he,a9 as be,aa as Ce,ab as Ee,ac as ye,ad as ve,ae as je,af as Se,ag as we,ah as Ae,m as te,n as Le,G as ke,v as ze,ai as Pe,aj as Ne}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458123.js";import{u as E,p as Me,g as Re,C as Fe,a as F,d as T}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458120.js";import{f as Te,u as W,g as De,h as Ie}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458122.js";import{u as Oe}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581104.js";import{u as S,a as P,E as x,C as j}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581105.js";import{a7 as Y,a8 as J,a9 as K,aa as Z,ab as Q,r as $e,P as m,c as I,I as p,_ as y,ac as Ue,ad as Ve,t as Ge,ae as qe,af as Be,ag as He,ah as We,ai as Ye,aj as Je,ak as Ke,al as Ze,am as Qe,b as Xe}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458111.js";import{c as se}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b7645818.js";import{W as O,V as $}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458119.js";import{a as ea}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458136.js";import{j as aa}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458159.js";import{G as ta,i as sa,g as na}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b7645819.js";import{B as oa}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581106.js";import{I as ia}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581107.js";import{u as R}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458146.js";import{w as ra}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581108.js";import{S as ca}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458135.js";import{V as la}from"./v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581109.js";const ne=se((e,s)=>({steps:[{key:"contatos",label:E.getState().language.step_contatos,icon:Y},{key:"acoes",label:E.getState().language.step_acoes,icon:J},{key:"revisao",label:E.getState().language.step_revisao,icon:K},{key:"envio",label:E.getState().language.step_envio,icon:Z},{key:"resultados",label:E.getState().language.step_resultados,icon:Q}],currentStep:"contatos",setCurrentStep:t=>e({currentStep:t}),updateStepsLabels:t=>e({steps:[{key:"contatos",label:t.step_contatos,icon:Y},{key:"acoes",label:t.step_acoes,icon:J},{key:"revisao",label:t.step_revisao,icon:K},{key:"envio",label:t.step_envio,icon:Z},{key:"resultados",label:t.step_resultados,icon:Q}]})}));E.subscribe((e,s)=>{e.language!==s.language&&ne.getState().updateStepsLabels(e.language)});function ua(e){return e!=null&&e.trim().length>0}function A(e,s){S.setState(t=>{const c=new Map(t.executions),n=c.get(e);return n&&c.set(e,{...n,...s}),{executions:c}})}function D(e){return S.getState().executions.get(e)}function da(e){const{campaigns:s}=P.getState();return s.find(t=>t.id===e)}const X=e=>new Promise(s=>setTimeout(s,e)),pa=async()=>{try{const e=await O.Conn("getMyUserId");if(!e)throw new Error("ID do usuário não encontrado");const s=await O.Contact("get",e);if(!s)throw new Error("Não foi possível obter o contato do usuário");const t=await O.Contact("getProfilePictureUrl",e);return{id:s.id.toString(),name:s.name||s.pushname||"Eu",avatarUrl:t||"",phone:s.id.user}}catch(e){throw console.error("Erro ao obter contato do usuário:",e),new Error(`Falha ao carregar informações do usuário: ${e instanceof Error?e.message:"Erro desconhecido"}`)}};async function ma({userID:e,acao:s,assiantura:t,remetente:c,campaignId:n,resumeFromActionIndex:l=0}){const{addMonitor:g,deleteMonitor:o,updateMonitor:C}=le.getState(),f=[],_=$e();g({id:_,userID:e,sendAction:"Actived",remetente:c,actionsTam:s.length,actionIndice:l,activeAction:s[l]});try{for(const[i,r]of s.entries()){if(i<l)continue;const L=S.getState();if(n){if(!L.executions.get(n))return o(_),{status:"execution_not_found"};if(L.shouldCancelExecution(n))return o(_),{status:"cancelled"};if(L.shouldPauseExecution(n))return A(n,{currentActionIndex:i,status:x.PAUSED,pausedAt:new Date,shouldPause:!1,isAutoPause:!1,autoPauseEndsAt:void 0}),o(_),{status:"paused",actionIndex:i}}if(!C(_,i,r)){f.push(!1);break}n&&A(n,{currentActionIndex:i});try{switch(r.type){case"txt":f.push(await Ae(m(e),r.propriedades,t));break;case"image":f.push(await we(m(e),r.propriedades,t));break;case"video":f.push(await Se(m(e),r.propriedades,t));break;case"audio":f.push(await je(m(e),r.propriedades));break;case"doc":f.push(await ve(m(e),r.propriedades));break;case"pix":f.push(await ye(m(e),r.propriedades));break;case"groupInvite":f.push(await Ee(m(e),r.propriedades));break;case"contact":f.push(await Ce(m(e),r.propriedades));break;case"linkPreview":f.push(await be(m(e),r.propriedades));break;case"sticker":f.push(await he(m(e),r.propriedades));break;case"addCRM":await _e(I(e),r.propriedades.crmID,r.propriedades.abaID);break;case"removeCRM":await H(I(e),!1,r.propriedades.crmID,r.propriedades.abaID);break;case"removeAllCRM":await H(I(e),!0);break;case"addLabel":await B(m(e),r.propriedades.labelID,"add");break;case"removeLabel":await B(m(e),r.propriedades.labelID,"remove");break;case"removeAllLabel":await xe(m(e));break;case"timer":await fe(r.propriedades.segundos);break;case"composing":await q(m(e),r.propriedades.segundos,"txt");break;case"recording":await q(m(e),r.propriedades.segundos,"audio");break;case"arquivar":await G(m(e));break;case"desarquivar":await G(m(e),!0);break;case"fixarChat":await V(m(e),"pin");break;case"desfixarChat":await V(m(e),"unpin");break;case"marcarNaoLido":await ge(m(e));break;case"transferir":await me(m(e),r.propriedades);break;case"bloquear":await pe(m(e));break;case"respostaRapida":await de(m(e),r.propriedades.respostaRapidaID,t);break;case"list":await ue(m(e),r.propriedades);break;default:console.warn(`No handler found for action type: ${r.type}`);break}}catch(k){const z=k instanceof Error?k.message:"Erro desconhecido na ação";return console.error(`Erro na ação ${r.type} (índice ${i}) para ${e}:`,k),o(_),{status:"error",message:`Erro na ação "${r.type}": ${z}`}}}return o(_),f.length===0||f.every(i=>i&&i.id)?{status:"success"}:{status:"error",message:"Erro ao executar uma ou mais ações."}}catch(w){const i=w instanceof Error?w.message:"Erro desconhecido";return console.error(`Erro geral ao executar ações para ${e}:`,w),o(_),{status:"error",message:`Erro geral: ${i}`}}}async function U({campaign:e,type:s,resumeFromIndex:t=0,isResume:c=!1}){const n=E.getState().language,{actions:l,config:g,id:o}=e,{interval:C,pause:f,signature:_}=g,{seconds:w}=C,{every:i,durationSeconds:r}=f,{disabled:L,useCustomName:k,customName:z}=_,{updateCampaign:d}=P.getState(),h=S.getState(),b=D(o);if(b&&b.status===x.RUNNING&&!c){p({type:"Info",message:n.send_campanha_ja_em_execucao});return}if(c&&b&&b.status===x.RUNNING)return;const M=s==="test"?[await pa()]:e.selectedContacts,oe=b?.currentActionIndex||0;c?A(o,{status:x.RUNNING,shouldPause:!1,shouldCancel:!1,isAutoPause:!1,autoPauseEndsAt:void 0}):h.startExecution(o,M.length,l.length,s),d(o,{status:j.SENDING}),ne.getState().setCurrentStep("envio"),p({type:"Info",message:c?n.send_retomando_envio:n.send_iniciando_envio});try{for(let v=t;v<M.length;v++){const N=M[v];if(h.shouldCancelExecution(o)){A(o,{status:x.CANCELLED,completedAt:new Date,shouldCancel:!1}),d(o,{status:j.DRAFT}),p({type:"Info",message:n.send_campanha_cancelada});return}const ie={desativar:L,personalizar:k&&ua(z),nome:z?.trim()||""},re=v===t?oe:0;switch((await ma({userID:N.id,acao:l,assiantura:ie,remetente:"useAcaoEnvioEmMassaNew",campaignId:o,resumeFromActionIndex:re})).status){case"cancelled":A(o,{status:x.CANCELLED,completedAt:new Date,shouldCancel:!1}),d(o,{status:j.DRAFT}),p({type:"Info",message:n.send_campanha_cancelada});return;case"paused":d(o,{status:j.PAUSED}),p({type:"Info",message:n.campanha_pausada});return;case"execution_not_found":d(o,{status:j.DRAFT}),p({type:"Error",message:n.send_erro_desconhecido||"Execução não encontrada"});return;case"error":h.updateProgress(o,v+1,!1,N);break;case"success":h.updateProgress(o,v+1,!0,N);break}if(v<M.length-1){if(await X(w*1e3),h.shouldCancelExecution(o)){A(o,{status:x.CANCELLED,completedAt:new Date,shouldCancel:!1}),d(o,{status:j.DRAFT}),p({type:"Info",message:n.send_campanha_cancelada});return}if((v+1)%i===0){const ce=new Date(Date.now()+r*1e3);if(A(o,{status:x.PAUSED,isAutoPause:!0,autoPauseEndsAt:ce,pausedAt:new Date}),p({type:"Info",message:`${n.send_pausa_apos_envios} ${r}s ${n.send_apos} ${i} ${n.send_envios}`}),await X(r*1e3),h.shouldCancelExecution(o)){A(o,{status:x.CANCELLED,completedAt:new Date,shouldCancel:!1}),d(o,{status:j.DRAFT}),p({type:"Info",message:n.send_campanha_cancelada});return}if(h.shouldPauseExecution(o)){A(o,{isAutoPause:!1,autoPauseEndsAt:void 0});return}A(o,{status:x.RUNNING,isAutoPause:!1,autoPauseEndsAt:void 0})}}}h.completeExecution(o),d(o,{status:j.SENT}),p({type:"Success",message:`${n.send_campanha_concluida} ${M.length} ${n.send_contatos_processados}`})}catch(v){const N=v instanceof Error?v:new Error(n.send_erro_desconhecido);h.failExecution(o,N.message),d(o,{status:j.FAILED}),p({type:"Error",message:`${n.send_erro_ao_enviar} ${N.message}`})}}async function ga(e){const s=E.getState().language,t=da(e),c=D(e);if(!t){p({type:"Error",message:s.resume_campanha_nao_encontrada});return}if(!c){p({type:"Error",message:s.resume_estado_execucao_nao_encontrado});return}if(c.status!==x.PAUSED){p({type:"Info",message:s.resume_campanha_nao_pausada});return}await U({campaign:t,type:"full",resumeFromIndex:c.currentContactIndex,isResume:!0})}function fa(e){const s=E.getState().language,t=D(e);if(!t){p({type:"Error",message:s.pause_campanha_nao_encontrada});return}if(t.status!==x.RUNNING){p({type:"Info",message:s.pause_campanha_nao_em_execucao});return}if(t.shouldPause){p({type:"Info",message:s.pause_pausa_ja_solicitada});return}S.getState().requestPause(e),p({type:"Info",message:s.pause_pausando_apos_acao_atual})}function ee(e,s=!1){const t=E.getState().language,c=D(e);if(s){S.getState().forceCancel(e),p({type:"Info",message:t.sua_campanha_foi_cancelada});return}if(!c){p({type:"Error",message:t.cancel_campanha_nao_encontrada});return}if(c.status===x.COMPLETED||c.status===x.CANCELLED){p({type:"Info",message:t.cancel_campanha_ja_finalizada});return}if(c.shouldCancel){p({type:"Info",message:t.cancel_cancelamento_ja_solicitado});return}S.getState().requestCancel(e),p({type:"Info",message:t.cancel_cancelando_apos_acao_atual})}const xa=se()(Me(e=>({reports:[],addReport:s=>e(t=>({reports:[...t.reports,s]})),removeReport:s=>e(t=>({reports:t.reports.filter(c=>c.campaignId!==s)}))}),{name:"useReportCampaign-store",storage:Re(()=>Fe("ReportCampaignDB","useReportCampaignStore"))}));function ae(e){const s={campaignId:e.campaignId,startedAt:e.startedAt,totalActions:e.totalActions,totalContacts:e.totalContacts,successContacts:e.successContacts,failedContacts:e.failedContacts,completedAt:e.completedAt,totalExecutions:e.totalContacts*e.totalActions};xa.getState().addReport(s)}function _a(e){const[s,t]=u.useState(!1),c=E(d=>d.language),n=P(d=>d.campaigns.find(h=>h.id===e)),{updateCampaign:l}=P.getState(),g=S(d=>d.executions.get(e)),C=!F(d=>d.session).is_premium,f=!g||g.status===x.COMPLETED||g.status===x.CANCELLED||g.status===x.FAILED,{clearExecution:_}=S.getState();return{campaign:n,execution:g,isLoading:s,actions:{sendTest:async()=>{if(n){t(!0);try{if(!f)throw p({type:"Error",message:c.erro_iniciar_campanha}),new Error("Cannot start campaign: Campaign is already running or paused.");_(n.id);const d=P.getState().campaigns.find(h=>h.id===n.id);await U({campaign:d,type:"test"}),ae(S.getState().executions.get(d.id))}finally{t(!1)}}},sendFull:async()=>{if(n){t(!0);try{if(!f)throw p({type:"Error",message:c.erro_iniciar_campanha}),new Error("Cannot start campaign: Campaign is already running or paused.");if(C&&n.selectedContacts.length>5){const h=n.selectedContacts.slice(0,5);l(n.id,{selectedContacts:h})}_(n.id);const d=P.getState().campaigns.find(h=>h.id===n.id);await U({campaign:d,type:"full"}),ae(S.getState().executions.get(d.id))}finally{t(!1)}}},pause:()=>{fa(e)},resume:async()=>{t(!0);try{await ga(e)}finally{t(!1)}},cancel:()=>{ee(e)},forceCancel:()=>{ee(e,!0),l(e,{status:j.DRAFT})}},canStart:f,isRunning:g?.status===x.RUNNING,isPaused:g?.status===x.PAUSED,isCompleted:g?.status===x.COMPLETED,isCancelled:g?.status===x.CANCELLED}}const ha=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458191.js")),[]));function ba(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(ha,{})})}const Ca=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458192.js")).then(e=>e.i),[]));function Ea(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(Ca,{})})}const ya=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458193.js")),[]));function va(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(ya,{})})}const ja=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458194.js")),[]));function Sa(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(ja,{})})}const wa=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458195.js")),[]));function Aa(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(wa,{})})}const La=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458196.js")),[]));function ka(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(La,{})})}const za=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458197.js")).then(e=>e.i),[]));function Pa(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(za,{})})}const Na=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458198.js")),[]));function Ma(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(Na,{})})}const Ra=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b76458199.js")),[]));function Fa(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(Ra,{})})}const Ta=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581100.js")),[]));function Da(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(Ta,{})})}function Ia(e){return ta({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}function Oa(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24",style:{display:"inline-block"},children:a.jsx("path",{fill:"currentColor",d:"M2.001 9.352c0 1.873.849 2.943 1.683 3.943.031 1 .085 1.668-.333 3.183 1.748-.558 2.038-.778 3.008-1.374 1 .244 1.474.381 2.611.491-.094.708-.081 1.275.055 2.023-.752-.06-1.528-.178-2.33-.374-1.397.857-4.481 1.725-6.649 2.115.811-1.595 1.708-3.785 1.661-5.312-1.09-1.305-1.705-2.984-1.705-4.695-.001-4.826 4.718-8.352 9.999-8.352 5.237 0 9.977 3.484 9.998 8.318-.644-.175-1.322-.277-2.021-.314-.229-3.34-3.713-6.004-7.977-6.004-4.411 0-8 2.85-8 6.352zm20.883 10.169c-.029 1.001.558 2.435 1.088 3.479-1.419-.258-3.438-.824-4.352-1.385-.772.188-1.514.274-2.213.274-3.865 0-6.498-2.643-6.498-5.442 0-3.174 3.11-5.467 6.546-5.467 3.457 0 6.546 2.309 6.546 5.467 0 1.12-.403 2.221-1.117 3.074zm-7.563-3.021c0-.453-.368-.82-.82-.82s-.82.367-.82.82.368.82.82.82.82-.367.82-.82zm3 0c0-.453-.368-.82-.82-.82s-.82.367-.82.82.368.82.82.82.82-.367.82-.82zm3 0c0-.453-.368-.82-.82-.82s-.82.367-.82.82.368.82.82.82.82-.367.82-.82z"})})}function $a(){const{language:e}=E(),{statusEnvio:s,chats:t}=Oe(),n=P(b=>b.campaigns).find(b=>b.status===j.SENDING),{isRunning:l,execution:g,isPaused:o}=_a(n?.id),{open:C}=te.getState(),{open:f}=Le.getState(),{open:_}=Te.getState(),w=F(b=>b.session),{setMenuContent:i}=ke.getState(),{iawascript:r,referral:L}=T(R(b=>({iawascript:b.getUrl("principais","iawascript"),referral:b.getUrl("principais","referral")}))),k=l||o||s.estado==="Atived"||s.estado==="Paused",z=(g?.totalContacts??0)-(g?.currentContactIndex??0),d=a.jsxs(a.Fragment,{children:[k&&a.jsx("div",{className:"relative",children:a.jsx("div",{className:"absolute -top-[10px] left-[20px]",children:a.jsx("span",{className:"abaTam border border-[#ffffff52] border-solid rounded-full p-1 shadow-lg text-[12px] bg-[var(--primaria)]",children:a.jsx("em",{className:"text-[#ffffffd4] font-bold",children:t?.length||z})})})}),a.jsx("span",{id:"icoCampaign",children:a.jsx(ea,{size:20,className:Ue((s.estado==="Atived"||l)&&"text-[var(--wds-teal-500)]",(s.estado==="Paused"||o)&&"text-[goldenrod]",l&&"text-[var(--wds-teal-500)]")})})]});return[{id:"crm",name:"CRM",icon:a.jsx(Ve,{size:22}),function:()=>chrome.runtime.sendMessage({message:"CRM"})},{id:"quick_replies",name:e.quickReply,icon:a.jsx(Ge,{size:20}),function:()=>i("children","respostasRapidas")},{id:"env_massa",name:e.envioMassa,icon:d,function:()=>_(a.jsx(Ea,{}))},{id:"ia",name:"Agente IA",icon:a.jsx(ia,{color:"var(--ico-color)"}),disabled:!r.active,function:()=>window.open(`${r.link}${w.is_premium?"/?clientePremium":""}`,"_blank")},{id:"calendar",name:e.centralDeAgendamentos,icon:a.jsx(sa,{size:20}),function:()=>_(a.jsx(ba,{}))},{id:"flow",name:e.fluxo,icon:a.jsx(qe,{size:20}),function:()=>chrome.runtime.sendMessage({message:"FLOW"})},{id:"funnil_crm",name:e.funilCRM,icon:a.jsx(Be,{size:20}),function:()=>chrome.runtime.sendMessage({message:"funnil"})},{id:"att_atendimento",name:e.autoAtendimento,icon:a.jsx(He,{size:22}),function:()=>C(a.jsx(va,{}))},{id:"follow_up",name:e.followUp,icon:a.jsx(We,{size:22}),function:()=>C(a.jsx(Sa,{}))},{id:"status",name:e.status,icon:a.jsx(Ye,{size:22}),function:()=>C(a.jsx(Pa,{}))},{id:"api",name:"API",icon:a.jsx(Je,{size:22}),function:()=>C(a.jsx(Fa,{}),!1)},{id:"webhook",name:"WebHook",icon:a.jsx(Ke,{size:20}),function:()=>C(a.jsx(Ma,{}))},{id:"links",name:e.links,icon:a.jsx(aa,{size:20}),function:()=>C(a.jsx(ka,{}))},{id:"start_chat",name:e.start_chat,icon:a.jsx(Oa,{}),function:()=>C(a.jsx(Aa,{}))},{id:"afiliate_link",name:e.indiqueEGanhe,icon:a.jsx(oa,{size:20}),disabled:!L.active,function:()=>window.open(L.link,"_blank")},{id:"google_funcs",name:e.att_google,icon:a.jsx(Ia,{size:20}),function:b=>f(a.jsx(Da,{}),{placement:"right"},b.target)}]}function Ua(){const{activeMenu:e}=ze(),s=W(l=>l.close),t=W(l=>l.open),{config:c}=T(R(l=>({config:l.config})));return a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"lg:tooltip  lg:tooltip-right mb-2","data-tip":c.name,children:a.jsx("div",{className:"pulse cursor-pointer rounded-full w-9 h-9 shadow-lg",children:a.jsx("span",{children:a.jsx("img",{src:chrome.runtime.getURL("label/icons/plugin/icon.png"),className:"w-10 rounded-full select-none",draggable:!1})})})}),a.jsx("div",{className:"flex flex-col items-center gap-2 w-full overflow-y-auto overflow-x-hidden scroll_bar",style:{height:"calc(100vh - 350px)"},children:$a().map(l=>!l.disabled&&e[l.id]!==!1&&a.jsx("div",{onClick:g=>{l.function(g),ra(l.id)},onMouseEnter:g=>t(l.name,{placement:"right"},g.target),onMouseLeave:s,children:a.jsx("div",{className:"menu-item pulse cursor-pointer rounded-[10px] bg-[var(--ico-border-color)] p-2 text-[var(--ico-color)]",children:l.icon})},l.id))})]})}const Va=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581101.js")).then(e=>e.i),[]));function Ga(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(Va,{})})}const qa=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581102.js")),[]));function Ba(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(qa,{})})}const Ha=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_14_49a76bb0-8cf2-4908-a016-18478b764581103.js")),[]));function Wa(){return a.jsx(u.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(Ha,{})})}const Ya=()=>{const{user:e,session:s}=F.getState(),{config:t}=T.getState(),c=s.is_auth?`${$.painel_cliente}/${t.chromeStoreID}/auth-painel?${e.bearer_token}`:`${$.painel_cliente}/${t.chromeStoreID}/login`;window.open(c,"_blank")};function Ja(){const e=E(i=>i.language),s=te(i=>i.openRendertype),t=De(i=>i.open),c=Ie(i=>i.notifyNotVisualized),{youtube:n}=T(R(i=>({youtube:i.getUrl("redes_sociais","youtube")}))),{session:l,user:g,logout:o}=F(R(i=>({session:i.session,user:i.user,logout:i.logout}))),C=()=>{Xe({icon:a.jsx(Ne,{className:"text-[var(--primaria)]",size:24}),content:a.jsxs(a.Fragment,{children:[e.gostariaDeRemoverLogin,"?",a.jsx("br",{})," ",e.usuarioLogado,a.jsx("strong",{children:g.email})]}),confirmText:e.confirm,submit:()=>{o()}})},f=a.jsxs(a.Fragment,{children:[c>0&&a.jsx("div",{className:"absolute -top-1 -right-2",children:a.jsx("span",{className:"abaTam border border-[#ffffff52] border-solid rounded-full p-1 shadow-lg text-[12px] bg-[var(--primaria)] ",children:a.jsx("em",{className:"text-[#ffffffd4] font-bold",children:c})})}),a.jsx(ca,{size:20})]}),_=[{id:1,name:l.is_auth?g.email:e.logar,icon:a.jsx(na,{className:l.is_auth?"text-[var(--wds-teal-500)]":"text-red-500 user-icon-circle-man",size:20}),function:()=>l.is_auth?C():s("login")},{id:2,name:e.configAgendamento_title,icon:a.jsx(Pe,{size:20}),function:()=>t(a.jsx(Ga,{}))},{id:3,name:e.notifications,icon:f,function:()=>t(a.jsx(Wa,{}))},{id:4,name:e.func_menu,icon:a.jsx(la,{size:20}),function:()=>t(a.jsx(Ba,{}))},{id:5,name:"Painel Clientes",icon:a.jsx(Ze,{size:20}),function:()=>Ya()}];return a.jsxs("div",{className:"flex flex-col items-center gap-2 mb-4",children:[n.active&&a.jsx("div",{onClick:()=>window.open(n.link,"_blank"),className:"lg:tooltip lg:tooltip-right cursor-pointer","data-tip":e.tutoriais,children:a.jsx("span",{className:"pulse",children:a.jsx(Qe,{className:"text-[red]",size:26})})}),_.reverse().map(i=>a.jsx("div",{className:"lg:tooltip  lg:tooltip-right","data-tip":i.name,onClick:i.function,children:a.jsx("div",{className:"menu-item pulse cursor-pointer rounded-[10px]  bg-[var(--ico-border-color)] p-2 text-[var(--ico-color)]",children:i.icon})},i.id)),a.jsx("div",{className:"badge badge-sm badge-ghost text-xs text-base-content/60 font-semibold font-rounded",children:$.version})]})}function Ka(){return a.jsx("section",{"data-id":"Menu",children:a.jsx("div",{className:"w-[60px] h-[100vh] absolute z-[112] bg-[var(--menu-color)]",children:a.jsxs("div",{className:"animate__animated animate__fadeInLeft h-full my-2 flex flex-col justify-between gap-2",children:[a.jsx(Ua,{}),a.jsx(Ja,{})]})})})}const xt=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"}));export{va as A,Ea as E,Sa as F,$a as R,Pa as S,_a as a,xa as b,pa as g,xt as i,Ya as o,ne as u};
